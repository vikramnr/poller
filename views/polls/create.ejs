<%- include('../partials/header') %>
    <div class="container">
      <h3>Create polls</h3>
      <form action="/poll"  method="POST">
        <div class="form-group">
          <label for="title">Title of the Poll*</label>
          <input
            type="text"
            class="form-control"
            id="title"
            name="title"
            required
          />
        </div>
        <div class="form-group">
          <label for="Question">Question*</label>
          <input
            type="text"
            class="form-control"
            id="Question"
            name="question"
            required
          />
        </div>
        
        <div class="form-group" id="answers">
          
          <label for="Question">Option 1*</label>
          <input
            type="answer"
            class="form-control"
            id="answer1"
            name="answer"
            required
          />
          <label for="answer">Option 2*</label>
          <input type="text" class="form-control" id="answer2" name="answer" required/>
          <label for="answer">Option 3*</label>
          <input type="text" class="form-control" id="answer3" name="answer" required/>
        </div>

        <div><small class="text-danger">Any duplicates options will be removed from the poll</small></div>
        <button
          type="button"
          onclick="addelement()"
          class="btn btn-secondary btn-sm"
        >
          add more options
        </button>
        <button type="submit" class="btn btn-primary">Submit</button>
      </form>
    </div>
    <script>
      function addelement() {
        let formElement = document.getElementById("answers")
        console.log()
        let len = formElement.children.length/2
        let input = document.createElement("input");
        input.type = "text";
        input.name = "answer" + (len+1).toString();
        input.required = true
        input.classList.add('form-control')
        let label = document.createElement('label')
        label.innerText = `Option ${len+1}*`
        formElement.appendChild(label);
        formElement.appendChild(input);
      }
    </script>  
  <%- include('../partials/footer') %>

