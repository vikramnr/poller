<%- include('../partials/header') %>
<div class="container">
  <% polls.forEach(function(poll){ %>
  <form class="bg-white text-dark" action="/poll/<%=poll.id%>" method="POST">
    <div class="form-group">
      <input
        type="text"
        class="form-control"
        id=""
        disabled
        value="<%= poll.question %>"
        name="<%= poll.question %>"
      />
    </div>
    <% poll.answers.forEach(function(answer){ %>
    <div class="form-check">
      <input
        class="form-check-input"
        type="radio"
        name="<%= answer %>"
        id="<%= answer %>"
        value="<%= answer %>"
      />
      <label class="form-check-label" for="<%= answer %>">
        <%= answer %>
      </label>
    </div>
    <% }); %>
    <button type="submit" class="btn btn-primary">Vote Now !!!</button>
    <button type="reset" class="btn btn-info">Reset your votes</button>
    <a class="btn btn-info" href="/poll/<%= poll.id %>">Show more...</a>
    <button
      class="copy-btn btn btn-link"
      type="button"
      id="foo"
      value="http://localhost:3000/poll/<%= poll.id%>"
      data-clipboard-target="#foo"
    >
      <svg
        width="1em"
        height="1em"
        viewBox="0 0 16 16"
        class="bi bi-share"
        fill="currentColor"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          fill-rule="evenodd"
          d="M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5zm-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z"
        />
      </svg>
    </button>
  </form>
  <hr />
  <% }); %>
  <strong
    ><a href="/poll/create">Want to create your own poll? click here</a></strong
  >
</div>
<script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script>
<script>
  var clipboard = new ClipboardJS(".copy-btn");
  clipboard.on("success", function (e) {
    alert("Link Copied");
  });
  clipboard.on("error", function (e) {
    console.log(e);
  });
</script>

<%- include('../partials/footer') %>
